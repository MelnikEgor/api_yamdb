### Описание:

Проект `api_yamdb`, представляет из себя реализацию API к проект YaMDb, который
собирает отзывы пользователей на произведения. Сами произведения в YaMDb не хранятся,
здесь нельзя посмотреть фильм или послушать музыку.

Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка».
Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все»
и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Жуки»
и вторая сюита Баха. Список категорий может быть расширен (например, можно добавить
категорию «Изобразительное искусство» или «Ювелирка»).

Произведению может быть присвоен жанр из списка предустановленных
(например, «Сказка», «Рок» или «Артхаус»).

Добавлять произведения, категории и жанры может только администратор.

Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы
и ставят произведению оценку в диапазоне от одного до десяти (целое число).
Из пользовательских оценок формируется усреднённая оценка произведения — рейтинг.
На одно произведение пользователь может оставить только один отзыв.

Пользователи могут оставлять комментарии к отзывам.

Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.

* Просмотр информации: _произведения_, _категрии_, _жанры_, _отзовы к произведению_
и _комментарии к отзывам_, доступен для всех пользователей.
* Для авторизованных пользователей доступны: 
    создание, редактирование и удаление собственных _отзывов_ и _комментариев_.

Также имеется возможность самостоятельной регистрации на ресурсе YaMDb.


### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/MelnikEgor/api_yamdb.git
```

```
cd api_yamdb
```

Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```
> [!IMPORTANT] 
> Если у вас Linux/macOS используетй в заместо `python` -> `python3`

```
source venv/scripts/activate
```
> [!IMPORTANT] 
> Активация виртуального окружения, если используете Linux/macOS:
> `source env/bin/activate`

Обновите утилиту `pip`, до последней версии.

```
python -m pip install --upgrade pip
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```
Зайти в директорию с исполняющим файлом `manage.py`.

```
cd api_yamdb
```

Выполнить миграции:

```
python manage.py migrate
```

Запустить проект:

```
python manage.py runserver
```


### Заполнение базы данных:

Команды выполняются последовательно и с выключенным сервером.

* Загрузка _категорий_:
    ```
    python manage.py import_csv category.csv
    ```

* Загрузка _жанров:_
    ```
    python manage.py import_csv genre.csv
    ```

* Загркзка _произведений_:
    ```
    python manage.py import_csv titles.csv
    ```

* Загрузка необходимых связей для корректной работы:
    ```
    python manage.py import_csv genre_title.csv
    ```

* Загрузка _пользователей_:
    ```
    python manage.py import_csv users.csv
    ```

* Загрузка _отзывов пользователей_:
    ```
    python manage.py import_csv review.csv
    ```

* Загрузка _комментариев пользователей на отзовы_:
    ```
    python manage.py import_csv comments.csv
    ```


### Примеры запросов:

* При работе с моделью __Произведений__ `GET` запросы доступны всем пользователям. Остальные запросы `POST`, `PATCH` и `DELETE`, только администраторов.
    Доступны следующие эндпоинты:

    ```
    api/v1/titles/
    ```

    Данный эндпоинт способен получить метод `GET` для получения списка __произведений__ с пагинацией и доступными фильтрами для удобного поиска интересуюзих записей и метод `POST` для создание нового __произведения__.


    ```
    api/v1/titles/{title_id}/
    ```

    Этот эндпоинт способен обработать `GET`, `PATCH` и `DELETE` запросы. На _получение_, _редактирование_ и _удаление_ отдельного __произведения__.


* Для модели __Пользователь__ методы `GET`, `POST`, `PATCH` и `DELETE` доступны только администраторам и суперпользователю.

    ```
    api/v1/users/
    ```

    Данный эндпоинт способен получить метод `GET` для получения списка __пользователей__ с пагинацией и поиск пользователей по __username__ и метод `POST` для создание нового __пользователя__.

    ```
    api/v1/users/{username}/
    ```

    Этот эндпоинт способен обработать `GET`, `PATCH` и `DELETE` запросы. На _получение_, _редактирование_ и _удаление_ отдельного __пользователя__.

    Также имеется эндпоинт доступный каждому авторизованному пользователю.

    ```
    api/v1/users/me/
    ```
    Доступные методы:
    - `GET`, _получение_ информации о себе;
    - `PATCH`, _редактирование_ информации о себе.

### Разработчики:

# Team Leader - Егор Мельник

Разрабатывал системы:

- система регистрации и аутентификации,
- работа с токеном,
- систему подтверждения через e-mail.

# Developer - Руслан Мусифуллин

Разрабатывал системы:

- произведений,
- категорий,
- жанров,
- рейтинг произведений,
- заполнение БД из .csv файлов.

Совместная работа:
- отзыва,
- комментариев,
- права доступа.

### Технологии:

- django framework
- Django Rest Framework
- Python
- sqlite
- JWT Authentication
- Django Filters
- Custom Permissions
- dotenv
